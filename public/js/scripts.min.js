/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	__webpack_require__(1);
	
	"use strict";
	
	// Handles todos in the DOM
	var TodosList = {
	    todos: {
	        title: '',
	        list: []
	    },
	    init: function init() {
	        this.eventBinding();
	    },
	    eventBinding: function eventBinding() {
	        var taskInput = $('.task-create input');
	        var taskDelete = $('.col-delete');
	        var taskTodosDisplay = $('.task-todos-display');
	        var removeAllBtn = $('#remove-todos');
	
	        // Add Todos Event
	        taskInput.on('keydown', function (event) {
	            if (event.keyCode == 13) {
	                var newTodo = event.target.value;
	                TodosList.addTodos(newTodo);
	                event.target.value = '';
	            }
	        });
	
	        // Delete Todos Event
	        taskTodosDisplay.on('click', '.col-delete', function (event) {
	            var todoToDelete = event.target.closest('.task-control');
	            TodosList.deleteTodos(todoToDelete);
	        });
	
	        // Change Status
	        taskTodosDisplay.on('click', '.fa', this.toggleStatus.bind(this));
	
	        // Remove All Todos
	        removeAllBtn.on('click', this.removeAllTodos.bind(this));
	    },
	    displayTodos: function displayTodos() {
	        var taskTodosDisplay = $('.task-todos-display');
	        taskTodosDisplay[0].innerHTML = '';
	        this.todos.list.forEach(function (item, position) {
	            taskTodosDisplay.append('\n                <div class="task-control" data-position="' + position + '">\n                    <div class="col">\n                        <i class="fa fa-circle-thin"></i>\n                    </div>\n                    <p> ' + item.todoText + ' </p>\n                    <div class="col-delete">\n                        <i class="fa fa-times"></i>\n                    </div>\n                </div>');
	        });
	    },
	    addTitle: function addTitle(newTitle) {
	        this.todos.title = newTitle;
	    },
	    addTodos: function addTodos(newTodo) {
	        this.todos.list.push({
	            todoText: newTodo,
	            completed: false
	        });
	        this.displayTodos();
	    },
	    deleteTodos: function deleteTodos(removeEvent) {
	        var removePosition = removeEvent.dataset.position;
	        this.todos.list.splice(removePosition, 1);
	        this.displayTodos();
	    },
	    removeAllTodos: function removeAllTodos() {
	        this.todos.list.length = 0;
	        this.displayTodos();
	    },
	    toggleStatus: function toggleStatus(event) {
	        var toggleTodoWrapper = event.target.closest('.task-control');
	        var position = toggleTodoWrapper.dataset.position;
	        var todoCompleted = this.todos.list[position];
	
	        if (event.target.className === 'fa fa-circle-thin') {
	            event.target.className = 'fa fa-circle';
	        } else {
	            event.target.className = 'fa fa-circle-thin';
	        }
	        toggleTodoWrapper.classList.toggle('completed-task');
	        todoCompleted.completed = !todoCompleted.completed;
	    }
	};
	
	TodosList.init();
	
	/****************************************************
	////////////////////  UserList  ////////////////////
	****************************************************/
	
	var UserList = {
	    init: function init() {
	        this.cachDOM();
	        this.bindEvents();
	    },
	    cachDOM: function cachDOM() {
	        this.$mainListDisplay = $('.main-list-display');
	        this.$listDelete = this.$mainListDisplay.find('.list-delete');
	    },
	    bindEvents: function bindEvents() {
	        this.$listDelete.on('click', this.deleteList.bind(this));
	    },
	    deleteList: function deleteList(event) {
	        var eventParent = event.target.closest('.task-listing-control');
	        var listId = eventParent.dataset.id;
	        DataHandler.deleteTodosListing(listId, eventParent);
	    },
	    removeListDisplay: function removeListDisplay(elemToRemove) {
	        elemToRemove.remove();
	    }
	};
	
	UserList.init();
	
	/****************************************************
	//////////////////// DataHandler ////////////////////
	****************************************************/
	
	// Handles AJAX Requests
	var DataHandler = {
	    init: function init() {
	        this.cacheDOM();
	        this.eventBinding();
	    },
	    cacheDOM: function cacheDOM() {
	        this.$saveTodosBtn = $('#save-todos');
	        this.$saveModalWrapper = $('#save-modal-wrapper');
	        this.$saveCloseModal = this.$saveModalWrapper.find('.save-modal-close');
	        this.$saveModalDisplay = this.$saveModalWrapper.find('.save-modal-display');
	        this.$saveModalDataBtn = this.$saveModalWrapper.find('.save-modal-data');
	        this.$titleInput = this.$saveModalWrapper.find('.title-wrapper input');
	    },
	    eventBinding: function eventBinding() {
	        this.$saveTodosBtn.on('click', this.displaySaveModal.bind(this));
	        this.$saveCloseModal.on('click', this.displaySaveModal.bind(this));
	        this.$saveModalDataBtn.on('click', this.postTodos.bind(this));
	    },
	    displaySaveModal: function displaySaveModal() {
	        this.$saveModalWrapper.toggleClass('active-modal');
	        this.$saveModalDisplay.toggleClass('active-modal');
	    },
	    postTodos: function postTodos() {
	        var urlPath = window.location.pathname;
	        TodosList.addTitle(this.$titleInput[0].value);
	
	        var postData = {
	            title: TodosList.todos.title,
	            todos: TodosList.todos.list
	        };
	
	        $.ajax({
	            type: 'POST',
	            url: '/home',
	            dataType: 'json',
	            data: { 'post': JSON.stringify(postData) },
	            success: function success(data) {
	                console.log("Success");
	                TodosList.removeAllTodos();
	                TodosList.todos.title = '';
	            },
	            error: function error(err) {
	                console.log(err);
	            }
	        });
	    },
	    deleteTodosListing: function deleteTodosListing(listingId, parentElem) {
	        var listId = listingId;
	        var parentElem = parentElem;
	
	        $.ajax({
	            type: 'DELETE',
	            url: '/home',
	            dataType: 'json',
	            data: { 'id': listId },
	            success: function success(data) {
	                console.log("Success");
	                UserList.removeListDisplay(parentElem);
	            },
	            error: function error(err) {
	                console.log(err);
	            }
	        });
	    }
	};
	
	DataHandler.init();
	
	/****************************************************
	////////////////////  PageView  ////////////////////
	****************************************************/
	
	// Handles Page View Switch: From Todo to List and back
	(function () {
	
	    var PageView = {
	        init: function init() {
	            this.cacheDOM();
	            this.bindEvents();
	        },
	        cacheDOM: function cacheDOM() {
	            this.$mainDisplay = $('.main-display');
	            this.$viewToggleBtn = this.$mainDisplay.find('.more-todos');
	        },
	        bindEvents: function bindEvents() {
	            this.$viewToggleBtn.on('click', this.slideView.bind(this));
	        },
	        slideView: function slideView() {
	            this.$mainDisplay.toggleClass('active-list');
	        }
	    };
	
	    PageView.init();
	})();

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	// style-loader: Adds some css to the DOM by adding a <style> tag
	
	// load the styles
	var content = __webpack_require__(2);
	if(typeof content === 'string') content = [[module.id, content, '']];
	// add the styles to the DOM
	var update = __webpack_require__(4)(content, {});
	if(content.locals) module.exports = content.locals;
	// Hot Module Replacement
	if(false) {
		// When the styles change, update the <style> tags
		if(!content.locals) {
			module.hot.accept("!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./main.sass", function() {
				var newContent = require("!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./main.sass");
				if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
				update(newContent);
			});
		}
		// When the module is disposed, remove the <style> tags
		module.hot.dispose(function() { update(); });
	}

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	exports = module.exports = __webpack_require__(3)();
	// imports
	
	
	// module
	exports.push([module.id, "@keyframes headerColors {\n  0% {\n    color: #f7eff1; }\n  50% {\n    color: #f1f1f1; }\n  100% {\n    color: #f7eff1; } }\n\n* {\n  padding: 0;\n  margin: 0; }\n\nbody {\n  font-family: \"Raleway\";\n  background: #f9f9f9; }\n\n.header-wrapper {\n  width: 40px;\n  height: 40px;\n  background: #808080;\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  border-radius: 100%;\n  overflow: hidden;\n  z-index: 10;\n  cursor: pointer;\n  transition: all 250ms linear; }\n  .header-wrapper:hover {\n    width: 300px;\n    height: 300px;\n    border-radius: 0;\n    background: #fff;\n    box-shadow: 0 5px 20px #c8c8c8;\n    transition: all 350ms cubic-bezier(0.47, 0, 0.06, 1.42); }\n  .header-wrapper .header-display {\n    opacity: 1;\n    transition: all 300ms linear 300ms; }\n\n.menu-btn {\n  width: 35px;\n  height: 35px;\n  position: relative; }\n  .menu-btn span {\n    width: 28px;\n    height: 2px;\n    background: #fff;\n    position: absolute;\n    left: 5px; }\n    .menu-btn span:nth-of-type(1) {\n      top: 16px; }\n    .menu-btn span:nth-of-type(2) {\n      top: 22px; }\n\n.user-status {\n  position: fixed;\n  top: 25px;\n  right: 30px; }\n  .user-status h3 {\n    color: #808080;\n    font-size: 20px;\n    font-style: italic;\n    font-weight: bold;\n    letter-spacing: 1px; }\n\n.header-display {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  transition: all 200ms linear; }\n  .header-display h2 {\n    color: #ef9a9a;\n    font-size: 40px;\n    font-weight: normal;\n    text-align: center;\n    padding-bottom: 10px;\n    letter-spacing: 1px; }\n  .header-display li {\n    width: auto;\n    line-height: 30px;\n    list-style: none;\n    margin-left: 30px; }\n  .header-display a {\n    color: #f1f1f1;\n    font-size: 20px;\n    font-style: italic;\n    font-weight: bold;\n    text-decoration: none;\n    transition: all 350ms linear; }\n    .header-display a:hover {\n      color: #808080; }\n\n#save-modal-wrapper {\n  width: 100%;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 100;\n  transition: all 350ms linear 300ms; }\n  #save-modal-wrapper.active-modal {\n    visibility: visible;\n    opacity: 1;\n    transition: all 350ms linear; }\n\n.save-modal-display {\n  width: 95%;\n  height: 300px;\n  max-width: 400px;\n  background: #fff;\n  margin: 0 auto;\n  margin-top: 100px;\n  text-align: center;\n  transition: all 350ms cubic-bezier(0.47, 0, 0.06, 1.42);\n  transform: translateY(-150%); }\n  .save-modal-display.active-modal {\n    transform: translateY(0);\n    transition: all 350ms cubic-bezier(0.47, 0, 0.06, 1.42) 300ms; }\n\n.save-modal-close {\n  position: absolute;\n  top: 8px;\n  right: 14px;\n  cursor: pointer; }\n  .save-modal-close i {\n    color: #808080; }\n\n.title-wrapper {\n  width: 95%;\n  height: auto;\n  padding: 30px 0;\n  color: #ef9a9a;\n  font-size: 20px;\n  font-style: italic;\n  font-weight: bold;\n  text-decoration: none;\n  padding: 10px 0;\n  transition: all 350ms linear; }\n  .title-wrapper input {\n    width: 80%;\n    height: 40px;\n    max-width: 220px;\n    color: #808080;\n    font-size: 20px;\n    font-style: italic;\n    outline: none;\n    border: none;\n    border-bottom: 2px solid #f1f1f1;\n    display: table-cell;\n    padding: 0 1% 0 10px; }\n  .title-wrapper input::-webkit-input-placeholder {\n    color: #f1f1f1; }\n\n.save-modal-btn {\n  width: 95%;\n  height: auto;\n  padding: 30px 0; }\n  .save-modal-btn button, .save-modal-btn a {\n    color: #f1f1f1;\n    font-size: 18px;\n    font-style: italic;\n    font-weight: bold;\n    text-decoration: none;\n    outline: none;\n    box-shadow: none;\n    border: none;\n    background: transparent;\n    letter-spacing: 0.5px;\n    padding-top: 15px;\n    padding-left: 15px;\n    cursor: pointer;\n    transition: all 350ms linear; }\n    .save-modal-btn button:hover, .save-modal-btn a:hover {\n      color: #808080; }\n\n.main-wrapper {\n  width: 100%;\n  height: 100vh;\n  overflow: hidden; }\n\n.main-display {\n  width: 100%;\n  height: 100%;\n  transition: all 350ms cubic-bezier(0.47, 0, 0.06, 1.42);\n  transform: translateY(0); }\n  .main-display.active-list {\n    transform: translateY(-100%); }\n\n.tasker-display {\n  width: 100%;\n  max-width: 450px;\n  min-width: 300px;\n  height: calc(100% - 120px);\n  margin: 0 auto;\n  padding-top: 120px; }\n\n.tasker-header-wrapper {\n  width: 100%;\n  height: auto; }\n\n.tasker-header-display {\n  width: 100%;\n  height: 100%;\n  text-align: center; }\n  .tasker-header-display h1 {\n    color: #ef9a9a;\n    font-size: 100px;\n    font-weight: lighter; }\n\n.task-wrapper {\n  width: 100%;\n  height: auto;\n  background: #fff; }\n\n.task-display {\n  width: 100%;\n  height: 100%; }\n\n.task-create {\n  width: 100%;\n  height: 60px;\n  border-bottom: 2px solid #f1f1f1;\n  display: table; }\n  .task-create input {\n    width: 80%;\n    height: 60px;\n    color: #808080;\n    font-size: 20px;\n    font-style: italic;\n    outline: none;\n    border: none;\n    display: table-cell;\n    padding: 0 1%; }\n  .task-create input::-webkit-input-placeholder {\n    color: #f1f1f1; }\n\n.task-control {\n  width: 100%;\n  height: 60px;\n  border-bottom: 2px solid #f1f1f1;\n  display: table; }\n  .task-control.completed-task {\n    opacity: 0.4; }\n  .task-control:hover .col-delete i {\n    color: #ef9a9a; }\n  .task-control p {\n    width: 80%;\n    height: 100%;\n    color: #808080;\n    display: table-cell;\n    font-size: 20px;\n    font-weight: bold;\n    display: table-cell;\n    vertical-align: middle; }\n\n.col {\n  width: 10%;\n  display: table-cell;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer; }\n\n.col-delete {\n  width: 10%;\n  height: 100%;\n  display: table-cell;\n  text-align: center;\n  font-style: bold;\n  vertical-align: middle;\n  cursor: pointer;\n  transition: all 350ms linear; }\n  .col-delete i {\n    color: #fff;\n    transition: all 350ms linear; }\n\n.tasker-buttons {\n  width: 100%;\n  height: 50px;\n  display: table; }\n  .tasker-buttons button {\n    color: #f1f1f1;\n    font-size: 18px;\n    font-style: italic;\n    font-weight: bold;\n    outline: none;\n    box-shadow: none;\n    border: none;\n    background: transparent;\n    letter-spacing: 0.5px;\n    padding-top: 15px;\n    padding-left: 15px;\n    cursor: pointer;\n    transition: all 350ms linear; }\n    .tasker-buttons button:hover {\n      color: #808080; }\n\n.main-list-display {\n  width: 100%;\n  max-width: 450px;\n  min-width: 300px;\n  height: calc(100% - 120px);\n  margin: 0 auto;\n  padding-top: 120px; }\n\n.list-wrapper {\n  width: 100%;\n  height: auto;\n  background: #fff; }\n\n.list-display {\n  width: 100%;\n  height: 100%; }\n\n.task-listing-control {\n  width: 100%;\n  height: 60px;\n  border-bottom: 2px solid #f1f1f1;\n  display: table;\n  cursor: pointer; }\n  .task-listing-control:hover p {\n    color: #ef9a9a; }\n  .task-listing-control:hover .list-delete i {\n    color: #ef9a9a; }\n  .task-listing-control p {\n    width: 80%;\n    height: 100%;\n    color: #808080;\n    display: table-cell;\n    font-size: 20px;\n    font-weight: bold;\n    display: table-cell;\n    vertical-align: middle;\n    letter-spacing: 0.5px; }\n\n.list-delete {\n  width: 10%;\n  height: 100%;\n  display: table-cell;\n  text-align: center;\n  font-style: bold;\n  vertical-align: middle;\n  cursor: pointer;\n  transition: all 350ms linear; }\n  .list-delete i {\n    color: #fff;\n    transition: all 350ms linear; }\n\n.form-wrapper {\n  width: 100%;\n  height: auto;\n  padding-top: 60px; }\n\n.form-display {\n  width: 100%;\n  height: 100%;\n  padding: 60px 0;\n  text-align: center; }\n  .form-display h2 {\n    color: #ef9a9a;\n    font-size: 100px;\n    font-weight: lighter;\n    padding: 10px 0; }\n\n.form-container {\n  width: 95%;\n  height: auto;\n  max-width: 450px;\n  margin: 0 auto;\n  text-align: center; }\n\n.form-control {\n  width: 95%;\n  height: 50px;\n  background: #fff;\n  display: table;\n  padding: 3px 0;\n  margin: 2px auto; }\n  .form-control p {\n    color: #ef9a9a;\n    font-size: 20px;\n    font-weight: bold;\n    display: table-cell;\n    vertical-align: middle; }\n  .form-control input {\n    width: 90%;\n    height: 100%;\n    color: #808080;\n    font-size: 20px;\n    font-style: italic;\n    background: transparent;\n    padding: 0 1% 0 30px;\n    border: none; }\n    .form-control input:focus {\n      outline: none;\n      border: none; }\n  .form-control input::-webkit-input-placeholder {\n    color: #f1f1f1; }\n  .form-control button {\n    width: 95%;\n    height: 30px;\n    color: #f1f1f1;\n    font-size: 20px;\n    font-weight: bold;\n    padding-top: 10px;\n    background: transparent;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    transition: all 350ms linear; }\n    .form-control button:hover {\n      color: #808080; }\n", ""]);
	
	// exports


/***/ },
/* 3 */
/***/ function(module, exports) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	// css base code, injected by the css-loader
	module.exports = function() {
		var list = [];
	
		// return the list of modules as css string
		list.toString = function toString() {
			var result = [];
			for(var i = 0; i < this.length; i++) {
				var item = this[i];
				if(item[2]) {
					result.push("@media " + item[2] + "{" + item[1] + "}");
				} else {
					result.push(item[1]);
				}
			}
			return result.join("");
		};
	
		// import a list of modules into the list
		list.i = function(modules, mediaQuery) {
			if(typeof modules === "string")
				modules = [[null, modules, ""]];
			var alreadyImportedModules = {};
			for(var i = 0; i < this.length; i++) {
				var id = this[i][0];
				if(typeof id === "number")
					alreadyImportedModules[id] = true;
			}
			for(i = 0; i < modules.length; i++) {
				var item = modules[i];
				// skip already imported module
				// this implementation is not 100% perfect for weird media query combinations
				//  when a module is imported multiple times with different media queries.
				//  I hope this will never occur (Hey this way we have smaller bundles)
				if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
					if(mediaQuery && !item[2]) {
						item[2] = mediaQuery;
					} else if(mediaQuery) {
						item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
					}
					list.push(item);
				}
			}
		};
		return list;
	};


/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	var stylesInDom = {},
		memoize = function(fn) {
			var memo;
			return function () {
				if (typeof memo === "undefined") memo = fn.apply(this, arguments);
				return memo;
			};
		},
		isOldIE = memoize(function() {
			return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase());
		}),
		getHeadElement = memoize(function () {
			return document.head || document.getElementsByTagName("head")[0];
		}),
		singletonElement = null,
		singletonCounter = 0,
		styleElementsInsertedAtTop = [];
	
	module.exports = function(list, options) {
		if(false) {
			if(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
		}
	
		options = options || {};
		// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
		// tags it will allow on a page
		if (typeof options.singleton === "undefined") options.singleton = isOldIE();
	
		// By default, add <style> tags to the bottom of <head>.
		if (typeof options.insertAt === "undefined") options.insertAt = "bottom";
	
		var styles = listToStyles(list);
		addStylesToDom(styles, options);
	
		return function update(newList) {
			var mayRemove = [];
			for(var i = 0; i < styles.length; i++) {
				var item = styles[i];
				var domStyle = stylesInDom[item.id];
				domStyle.refs--;
				mayRemove.push(domStyle);
			}
			if(newList) {
				var newStyles = listToStyles(newList);
				addStylesToDom(newStyles, options);
			}
			for(var i = 0; i < mayRemove.length; i++) {
				var domStyle = mayRemove[i];
				if(domStyle.refs === 0) {
					for(var j = 0; j < domStyle.parts.length; j++)
						domStyle.parts[j]();
					delete stylesInDom[domStyle.id];
				}
			}
		};
	}
	
	function addStylesToDom(styles, options) {
		for(var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];
			if(domStyle) {
				domStyle.refs++;
				for(var j = 0; j < domStyle.parts.length; j++) {
					domStyle.parts[j](item.parts[j]);
				}
				for(; j < item.parts.length; j++) {
					domStyle.parts.push(addStyle(item.parts[j], options));
				}
			} else {
				var parts = [];
				for(var j = 0; j < item.parts.length; j++) {
					parts.push(addStyle(item.parts[j], options));
				}
				stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
			}
		}
	}
	
	function listToStyles(list) {
		var styles = [];
		var newStyles = {};
		for(var i = 0; i < list.length; i++) {
			var item = list[i];
			var id = item[0];
			var css = item[1];
			var media = item[2];
			var sourceMap = item[3];
			var part = {css: css, media: media, sourceMap: sourceMap};
			if(!newStyles[id])
				styles.push(newStyles[id] = {id: id, parts: [part]});
			else
				newStyles[id].parts.push(part);
		}
		return styles;
	}
	
	function insertStyleElement(options, styleElement) {
		var head = getHeadElement();
		var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];
		if (options.insertAt === "top") {
			if(!lastStyleElementInsertedAtTop) {
				head.insertBefore(styleElement, head.firstChild);
			} else if(lastStyleElementInsertedAtTop.nextSibling) {
				head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);
			} else {
				head.appendChild(styleElement);
			}
			styleElementsInsertedAtTop.push(styleElement);
		} else if (options.insertAt === "bottom") {
			head.appendChild(styleElement);
		} else {
			throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
		}
	}
	
	function removeStyleElement(styleElement) {
		styleElement.parentNode.removeChild(styleElement);
		var idx = styleElementsInsertedAtTop.indexOf(styleElement);
		if(idx >= 0) {
			styleElementsInsertedAtTop.splice(idx, 1);
		}
	}
	
	function createStyleElement(options) {
		var styleElement = document.createElement("style");
		styleElement.type = "text/css";
		insertStyleElement(options, styleElement);
		return styleElement;
	}
	
	function createLinkElement(options) {
		var linkElement = document.createElement("link");
		linkElement.rel = "stylesheet";
		insertStyleElement(options, linkElement);
		return linkElement;
	}
	
	function addStyle(obj, options) {
		var styleElement, update, remove;
	
		if (options.singleton) {
			var styleIndex = singletonCounter++;
			styleElement = singletonElement || (singletonElement = createStyleElement(options));
			update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);
			remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);
		} else if(obj.sourceMap &&
			typeof URL === "function" &&
			typeof URL.createObjectURL === "function" &&
			typeof URL.revokeObjectURL === "function" &&
			typeof Blob === "function" &&
			typeof btoa === "function") {
			styleElement = createLinkElement(options);
			update = updateLink.bind(null, styleElement);
			remove = function() {
				removeStyleElement(styleElement);
				if(styleElement.href)
					URL.revokeObjectURL(styleElement.href);
			};
		} else {
			styleElement = createStyleElement(options);
			update = applyToTag.bind(null, styleElement);
			remove = function() {
				removeStyleElement(styleElement);
			};
		}
	
		update(obj);
	
		return function updateStyle(newObj) {
			if(newObj) {
				if(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)
					return;
				update(obj = newObj);
			} else {
				remove();
			}
		};
	}
	
	var replaceText = (function () {
		var textStore = [];
	
		return function (index, replacement) {
			textStore[index] = replacement;
			return textStore.filter(Boolean).join('\n');
		};
	})();
	
	function applyToSingletonTag(styleElement, index, remove, obj) {
		var css = remove ? "" : obj.css;
	
		if (styleElement.styleSheet) {
			styleElement.styleSheet.cssText = replaceText(index, css);
		} else {
			var cssNode = document.createTextNode(css);
			var childNodes = styleElement.childNodes;
			if (childNodes[index]) styleElement.removeChild(childNodes[index]);
			if (childNodes.length) {
				styleElement.insertBefore(cssNode, childNodes[index]);
			} else {
				styleElement.appendChild(cssNode);
			}
		}
	}
	
	function applyToTag(styleElement, obj) {
		var css = obj.css;
		var media = obj.media;
	
		if(media) {
			styleElement.setAttribute("media", media)
		}
	
		if(styleElement.styleSheet) {
			styleElement.styleSheet.cssText = css;
		} else {
			while(styleElement.firstChild) {
				styleElement.removeChild(styleElement.firstChild);
			}
			styleElement.appendChild(document.createTextNode(css));
		}
	}
	
	function updateLink(linkElement, obj) {
		var css = obj.css;
		var sourceMap = obj.sourceMap;
	
		if(sourceMap) {
			// http://stackoverflow.com/a/26603875
			css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
		}
	
		var blob = new Blob([css], { type: "text/css" });
	
		var oldSrc = linkElement.href;
	
		linkElement.href = URL.createObjectURL(blob);
	
		if(oldSrc)
			URL.revokeObjectURL(oldSrc);
	}


/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOTlkMzEwYzRlMzQ2ZjBmOTNjY2UiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Fzcy9tYWluLnNhc3M/MWEzMyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Fzcy9tYWluLnNhc3MiLCJ3ZWJwYWNrOi8vLy4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7OztBQ3RDQSxxQkFBUSxDQUFSOztBQUVBOztBQUVBO0FBQ0EsS0FBTSxZQUFZO0FBQ2QsWUFBTztBQUNILGdCQUFPLEVBREo7QUFFSCxlQUFNO0FBRkgsTUFETztBQUtkLFdBQU0sZ0JBQVc7QUFDYixjQUFLLFlBQUw7QUFDSCxNQVBhO0FBUWQsbUJBQWMsd0JBQVc7QUFDckIsYUFBSSxZQUFxQixFQUFFLG9CQUFGLENBQXpCO0FBQ0EsYUFBSSxhQUFxQixFQUFFLGFBQUYsQ0FBekI7QUFDQSxhQUFJLG1CQUFxQixFQUFFLHFCQUFGLENBQXpCO0FBQ0EsYUFBSSxlQUFxQixFQUFFLGVBQUYsQ0FBekI7O0FBRUE7QUFDQSxtQkFBVSxFQUFWLENBQWEsU0FBYixFQUF3QixVQUFTLEtBQVQsRUFBZ0I7QUFDcEMsaUJBQUksTUFBTSxPQUFOLElBQWlCLEVBQXJCLEVBQXlCO0FBQ3JCLHFCQUFJLFVBQVUsTUFBTSxNQUFOLENBQWEsS0FBM0I7QUFDQSwyQkFBVSxRQUFWLENBQW1CLE9BQW5C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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdEQUF1RDtBQUN2RDs7QUFFQSw4QkFBNkIsbUJBQW1COztBQUVoRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDk5ZDMxMGM0ZTM0NmYwZjkzY2NlXG4gKiovIiwicmVxdWlyZSgnLi4vc2Fzcy9tYWluLnNhc3MnKTtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLy8gSGFuZGxlcyB0b2RvcyBpbiB0aGUgRE9NXHJcbmNvbnN0IFRvZG9zTGlzdCA9IHtcclxuICAgIHRvZG9zOiB7XHJcbiAgICAgICAgdGl0bGU6ICcnLFxyXG4gICAgICAgIGxpc3Q6IFtdXHJcbiAgICB9LFxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudEJpbmRpbmcoKTtcclxuICAgIH0sXHJcbiAgICBldmVudEJpbmRpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0YXNrSW5wdXQgICAgICAgICAgPSAkKCcudGFzay1jcmVhdGUgaW5wdXQnKTtcclxuICAgICAgICB2YXIgdGFza0RlbGV0ZSAgICAgICAgID0gJCgnLmNvbC1kZWxldGUnKTtcclxuICAgICAgICB2YXIgdGFza1RvZG9zRGlzcGxheSAgID0gJCgnLnRhc2stdG9kb3MtZGlzcGxheScpO1xyXG4gICAgICAgIHZhciByZW1vdmVBbGxCdG4gICAgICAgPSAkKCcjcmVtb3ZlLXRvZG9zJyk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBUb2RvcyBFdmVudFxyXG4gICAgICAgIHRhc2tJbnB1dC5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3VG9kbyA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIFRvZG9zTGlzdC5hZGRUb2RvcyhuZXdUb2RvKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERlbGV0ZSBUb2RvcyBFdmVudFxyXG4gICAgICAgIHRhc2tUb2Rvc0Rpc3BsYXkub24oJ2NsaWNrJywgJy5jb2wtZGVsZXRlJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICB2YXIgdG9kb1RvRGVsZXRlID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy50YXNrLWNvbnRyb2wnKTtcclxuICAgICAgICAgICAgVG9kb3NMaXN0LmRlbGV0ZVRvZG9zKHRvZG9Ub0RlbGV0ZSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2hhbmdlIFN0YXR1c1xyXG4gICAgICAgIHRhc2tUb2Rvc0Rpc3BsYXkub24oJ2NsaWNrJywgJy5mYScsIHRoaXMudG9nZ2xlU3RhdHVzLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgQWxsIFRvZG9zXHJcbiAgICAgICAgcmVtb3ZlQWxsQnRuLm9uKCdjbGljaycsIHRoaXMucmVtb3ZlQWxsVG9kb3MuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgfSxcclxuICAgIGRpc3BsYXlUb2RvczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRhc2tUb2Rvc0Rpc3BsYXkgPSAkKCcudGFzay10b2Rvcy1kaXNwbGF5Jyk7XHJcbiAgICAgICAgdGFza1RvZG9zRGlzcGxheVswXS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB0aGlzLnRvZG9zLmxpc3QuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICB0YXNrVG9kb3NEaXNwbGF5LmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFzay1jb250cm9sXCIgZGF0YS1wb3NpdGlvbj1cIiR7cG9zaXRpb259XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLWNpcmNsZS10aGluXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPiAke2l0ZW0udG9kb1RleHR9IDwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWRlbGV0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXRpbWVzXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGFkZFRpdGxlOiBmdW5jdGlvbihuZXdUaXRsZSkge1xyXG4gICAgICAgIHRoaXMudG9kb3MudGl0bGUgPSBuZXdUaXRsZTtcclxuICAgIH0sXHJcbiAgICBhZGRUb2RvczogZnVuY3Rpb24obmV3VG9kbykge1xyXG4gICAgICAgIHRoaXMudG9kb3MubGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgdG9kb1RleHQ6IG5ld1RvZG8sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlUb2RvcygpO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZVRvZG9zOiBmdW5jdGlvbihyZW1vdmVFdmVudCkge1xyXG4gICAgICAgIHZhciByZW1vdmVQb3NpdGlvbiA9IHJlbW92ZUV2ZW50LmRhdGFzZXQucG9zaXRpb247XHJcbiAgICAgICAgdGhpcy50b2Rvcy5saXN0LnNwbGljZShyZW1vdmVQb3NpdGlvbiwgMSk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VG9kb3MoKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmVBbGxUb2RvczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy50b2Rvcy5saXN0Lmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5VG9kb3MoKTtcclxuICAgIH0sXHJcbiAgICB0b2dnbGVTdGF0dXM6IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHRvZ2dsZVRvZG9XcmFwcGVyID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy50YXNrLWNvbnRyb2wnKTtcclxuICAgICAgICB2YXIgcG9zaXRpb24gICAgICAgICAgPSB0b2dnbGVUb2RvV3JhcHBlci5kYXRhc2V0LnBvc2l0aW9uO1xyXG4gICAgICAgIHZhciB0b2RvQ29tcGxldGVkICAgICA9IHRoaXMudG9kb3MubGlzdFtwb3NpdGlvbl07XHJcblxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSAnZmEgZmEtY2lyY2xlLXRoaW4nKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPSAnZmEgZmEtY2lyY2xlJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NOYW1lID0gJ2ZhIGZhLWNpcmNsZS10aGluJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9nZ2xlVG9kb1dyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZSgnY29tcGxldGVkLXRhc2snKTtcclxuICAgICAgICB0b2RvQ29tcGxldGVkLmNvbXBsZXRlZCA9ICF0b2RvQ29tcGxldGVkLmNvbXBsZXRlZDtcclxuICAgIH1cclxufVxyXG5cclxuVG9kb3NMaXN0LmluaXQoKTtcclxuXHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8gIFVzZXJMaXN0ICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuY29uc3QgVXNlckxpc3QgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNhY2hET00oKTtcclxuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgIH0sXHJcbiAgICBjYWNoRE9NOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLiRtYWluTGlzdERpc3BsYXkgPSAkKCcubWFpbi1saXN0LWRpc3BsYXknKTtcclxuICAgICAgICB0aGlzLiRsaXN0RGVsZXRlICAgICAgPSB0aGlzLiRtYWluTGlzdERpc3BsYXkuZmluZCgnLmxpc3QtZGVsZXRlJyk7XHJcbiAgICB9LFxyXG4gICAgYmluZEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuJGxpc3REZWxldGUub24oJ2NsaWNrJywgdGhpcy5kZWxldGVMaXN0LmJpbmQodGhpcykpO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZUxpc3Q6IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGV2ZW50UGFyZW50ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy50YXNrLWxpc3RpbmctY29udHJvbCcpO1xyXG4gICAgICAgIHZhciBsaXN0SWQgPSBldmVudFBhcmVudC5kYXRhc2V0LmlkO1xyXG4gICAgICAgIERhdGFIYW5kbGVyLmRlbGV0ZVRvZG9zTGlzdGluZyhsaXN0SWQsIGV2ZW50UGFyZW50KTtcclxuICAgIH0sXHJcbiAgICByZW1vdmVMaXN0RGlzcGxheTogZnVuY3Rpb24oZWxlbVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgZWxlbVRvUmVtb3ZlLnJlbW92ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5Vc2VyTGlzdC5pbml0KCk7XHJcblxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vIERhdGFIYW5kbGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBIYW5kbGVzIEFKQVggUmVxdWVzdHNcclxuY29uc3QgRGF0YUhhbmRsZXIgPSB7XHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNhY2hlRE9NKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudEJpbmRpbmcoKTtcclxuICAgIH0sXHJcbiAgICBjYWNoZURPTTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy4kc2F2ZVRvZG9zQnRuICAgICAgPSAkKCcjc2F2ZS10b2RvcycpO1xyXG4gICAgICAgIHRoaXMuJHNhdmVNb2RhbFdyYXBwZXIgID0gJCgnI3NhdmUtbW9kYWwtd3JhcHBlcicpO1xyXG4gICAgICAgIHRoaXMuJHNhdmVDbG9zZU1vZGFsICAgID0gdGhpcy4kc2F2ZU1vZGFsV3JhcHBlci5maW5kKCcuc2F2ZS1tb2RhbC1jbG9zZScpXHJcbiAgICAgICAgdGhpcy4kc2F2ZU1vZGFsRGlzcGxheSAgPSB0aGlzLiRzYXZlTW9kYWxXcmFwcGVyLmZpbmQoJy5zYXZlLW1vZGFsLWRpc3BsYXknKTtcclxuICAgICAgICB0aGlzLiRzYXZlTW9kYWxEYXRhQnRuICA9IHRoaXMuJHNhdmVNb2RhbFdyYXBwZXIuZmluZCgnLnNhdmUtbW9kYWwtZGF0YScpO1xyXG4gICAgICAgIHRoaXMuJHRpdGxlSW5wdXQgICAgICAgID0gdGhpcy4kc2F2ZU1vZGFsV3JhcHBlci5maW5kKCcudGl0bGUtd3JhcHBlciBpbnB1dCcpO1xyXG4gICAgfSxcclxuICAgIGV2ZW50QmluZGluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy4kc2F2ZVRvZG9zQnRuLm9uKCdjbGljaycsIHRoaXMuZGlzcGxheVNhdmVNb2RhbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLiRzYXZlQ2xvc2VNb2RhbC5vbignY2xpY2snLCB0aGlzLmRpc3BsYXlTYXZlTW9kYWwuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy4kc2F2ZU1vZGFsRGF0YUJ0bi5vbignY2xpY2snLCB0aGlzLnBvc3RUb2Rvcy5iaW5kKHRoaXMpKTtcclxuICAgIH0sXHJcbiAgICBkaXNwbGF5U2F2ZU1vZGFsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLiRzYXZlTW9kYWxXcmFwcGVyLnRvZ2dsZUNsYXNzKCdhY3RpdmUtbW9kYWwnKTtcclxuICAgICAgICB0aGlzLiRzYXZlTW9kYWxEaXNwbGF5LnRvZ2dsZUNsYXNzKCdhY3RpdmUtbW9kYWwnKTtcclxuICAgIH0sXHJcbiAgICBwb3N0VG9kb3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB1cmxQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgIFRvZG9zTGlzdC5hZGRUaXRsZSh0aGlzLiR0aXRsZUlucHV0WzBdLnZhbHVlKTtcclxuXHJcbiAgICAgICAgdmFyIHBvc3REYXRhID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogVG9kb3NMaXN0LnRvZG9zLnRpdGxlLFxyXG4gICAgICAgICAgICB0b2RvczogVG9kb3NMaXN0LnRvZG9zLmxpc3RcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiAnL2hvbWUnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBkYXRhOiB7ICdwb3N0JyA6IEpTT04uc3RyaW5naWZ5KHBvc3REYXRhKSB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgICAgICBUb2Rvc0xpc3QucmVtb3ZlQWxsVG9kb3MoKTtcclxuICAgICAgICAgICAgICAgIFRvZG9zTGlzdC50b2Rvcy50aXRsZSA9ICcnO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlVG9kb3NMaXN0aW5nOiBmdW5jdGlvbihsaXN0aW5nSWQsIHBhcmVudEVsZW0pIHtcclxuICAgICAgICB2YXIgbGlzdElkID0gbGlzdGluZ0lkO1xyXG4gICAgICAgIHZhciBwYXJlbnRFbGVtID0gcGFyZW50RWxlbTtcclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIHVybDogJy9ob21lJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgZGF0YTogeyAnaWQnOiBsaXN0SWQgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgVXNlckxpc3QucmVtb3ZlTGlzdERpc3BsYXkocGFyZW50RWxlbSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuRGF0YUhhbmRsZXIuaW5pdCgpO1xyXG5cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLyAgUGFnZVZpZXcgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vLyBIYW5kbGVzIFBhZ2UgVmlldyBTd2l0Y2g6IEZyb20gVG9kbyB0byBMaXN0IGFuZCBiYWNrXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBQYWdlVmlldyA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlRE9NKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FjaGVET006IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRtYWluRGlzcGxheSAgID0gJCgnLm1haW4tZGlzcGxheScpO1xyXG4gICAgICAgICAgICB0aGlzLiR2aWV3VG9nZ2xlQnRuID0gdGhpcy4kbWFpbkRpc3BsYXkuZmluZCgnLm1vcmUtdG9kb3MnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLiR2aWV3VG9nZ2xlQnRuLm9uKCdjbGljaycsIHRoaXMuc2xpZGVWaWV3LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2xpZGVWaWV3OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy4kbWFpbkRpc3BsYXkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZS1saXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFBhZ2VWaWV3LmluaXQoKTtcclxuXHJcbn0pKCk7XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL2Z1bmN0aW9ucy5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5zYXNzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL21haW4uc2Fzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL21haW4uc2Fzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9zYXNzL21haW4uc2Fzc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiQGtleWZyYW1lcyBoZWFkZXJDb2xvcnMge1xcbiAgMCUge1xcbiAgICBjb2xvcjogI2Y3ZWZmMTsgfVxcbiAgNTAlIHtcXG4gICAgY29sb3I6ICNmMWYxZjE7IH1cXG4gIDEwMCUge1xcbiAgICBjb2xvcjogI2Y3ZWZmMTsgfSB9XFxuXFxuKiB7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwOyB9XFxuXFxuYm9keSB7XFxuICBmb250LWZhbWlseTogXFxcIlJhbGV3YXlcXFwiO1xcbiAgYmFja2dyb3VuZDogI2Y5ZjlmOTsgfVxcblxcbi5oZWFkZXItd3JhcHBlciB7XFxuICB3aWR0aDogNDBweDtcXG4gIGhlaWdodDogNDBweDtcXG4gIGJhY2tncm91bmQ6ICM4MDgwODA7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDIwcHg7XFxuICBsZWZ0OiAyMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB6LWluZGV4OiAxMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRyYW5zaXRpb246IGFsbCAyNTBtcyBsaW5lYXI7IH1cXG4gIC5oZWFkZXItd3JhcHBlcjpob3ZlciB7XFxuICAgIHdpZHRoOiAzMDBweDtcXG4gICAgaGVpZ2h0OiAzMDBweDtcXG4gICAgYm9yZGVyLXJhZGl1czogMDtcXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcXG4gICAgYm94LXNoYWRvdzogMCA1cHggMjBweCAjYzhjOGM4O1xcbiAgICB0cmFuc2l0aW9uOiBhbGwgMzUwbXMgY3ViaWMtYmV6aWVyKDAuNDcsIDAsIDAuMDYsIDEuNDIpOyB9XFxuICAuaGVhZGVyLXdyYXBwZXIgLmhlYWRlci1kaXNwbGF5IHtcXG4gICAgb3BhY2l0eTogMTtcXG4gICAgdHJhbnNpdGlvbjogYWxsIDMwMG1zIGxpbmVhciAzMDBtczsgfVxcblxcbi5tZW51LWJ0biB7XFxuICB3aWR0aDogMzVweDtcXG4gIGhlaWdodDogMzVweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxcbiAgLm1lbnUtYnRuIHNwYW4ge1xcbiAgICB3aWR0aDogMjhweDtcXG4gICAgaGVpZ2h0OiAycHg7XFxuICAgIGJhY2tncm91bmQ6ICNmZmY7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogNXB4OyB9XFxuICAgIC5tZW51LWJ0biBzcGFuOm50aC1vZi10eXBlKDEpIHtcXG4gICAgICB0b3A6IDE2cHg7IH1cXG4gICAgLm1lbnUtYnRuIHNwYW46bnRoLW9mLXR5cGUoMikge1xcbiAgICAgIHRvcDogMjJweDsgfVxcblxcbi51c2VyLXN0YXR1cyB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB0b3A6IDI1cHg7XFxuICByaWdodDogMzBweDsgfVxcbiAgLnVzZXItc3RhdHVzIGgzIHtcXG4gICAgY29sb3I6ICM4MDgwODA7XFxuICAgIGZvbnQtc2l6ZTogMjBweDtcXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDsgfVxcblxcbi5oZWFkZXItZGlzcGxheSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBhbGwgMjAwbXMgbGluZWFyOyB9XFxuICAuaGVhZGVyLWRpc3BsYXkgaDIge1xcbiAgICBjb2xvcjogI2VmOWE5YTtcXG4gICAgZm9udC1zaXplOiA0MHB4O1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4OyB9XFxuICAuaGVhZGVyLWRpc3BsYXkgbGkge1xcbiAgICB3aWR0aDogYXV0bztcXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4OyB9XFxuICAuaGVhZGVyLWRpc3BsYXkgYSB7XFxuICAgIGNvbG9yOiAjZjFmMWYxO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gICAgdHJhbnNpdGlvbjogYWxsIDM1MG1zIGxpbmVhcjsgfVxcbiAgICAuaGVhZGVyLWRpc3BsYXkgYTpob3ZlciB7XFxuICAgICAgY29sb3I6ICM4MDgwODA7IH1cXG5cXG4jc2F2ZS1tb2RhbC13cmFwcGVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIG9wYWNpdHk6IDA7XFxuICB6LWluZGV4OiAxMDA7XFxuICB0cmFuc2l0aW9uOiBhbGwgMzUwbXMgbGluZWFyIDMwMG1zOyB9XFxuICAjc2F2ZS1tb2RhbC13cmFwcGVyLmFjdGl2ZS1tb2RhbCB7XFxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zaXRpb246IGFsbCAzNTBtcyBsaW5lYXI7IH1cXG5cXG4uc2F2ZS1tb2RhbC1kaXNwbGF5IHtcXG4gIHdpZHRoOiA5NSU7XFxuICBoZWlnaHQ6IDMwMHB4O1xcbiAgbWF4LXdpZHRoOiA0MDBweDtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIG1hcmdpbi10b3A6IDEwMHB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdHJhbnNpdGlvbjogYWxsIDM1MG1zIGN1YmljLWJlemllcigwLjQ3LCAwLCAwLjA2LCAxLjQyKTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTUwJSk7IH1cXG4gIC5zYXZlLW1vZGFsLWRpc3BsYXkuYWN0aXZlLW1vZGFsIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xcbiAgICB0cmFuc2l0aW9uOiBhbGwgMzUwbXMgY3ViaWMtYmV6aWVyKDAuNDcsIDAsIDAuMDYsIDEuNDIpIDMwMG1zOyB9XFxuXFxuLnNhdmUtbW9kYWwtY2xvc2Uge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA4cHg7XFxuICByaWdodDogMTRweDtcXG4gIGN1cnNvcjogcG9pbnRlcjsgfVxcbiAgLnNhdmUtbW9kYWwtY2xvc2UgaSB7XFxuICAgIGNvbG9yOiAjODA4MDgwOyB9XFxuXFxuLnRpdGxlLXdyYXBwZXIge1xcbiAgd2lkdGg6IDk1JTtcXG4gIGhlaWdodDogYXV0bztcXG4gIHBhZGRpbmc6IDMwcHggMDtcXG4gIGNvbG9yOiAjZWY5YTlhO1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbiAgZm9udC1zdHlsZTogaXRhbGljO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBwYWRkaW5nOiAxMHB4IDA7XFxuICB0cmFuc2l0aW9uOiBhbGwgMzUwbXMgbGluZWFyOyB9XFxuICAudGl0bGUtd3JhcHBlciBpbnB1dCB7XFxuICAgIHdpZHRoOiA4MCU7XFxuICAgIGhlaWdodDogNDBweDtcXG4gICAgbWF4LXdpZHRoOiAyMjBweDtcXG4gICAgY29sb3I6ICM4MDgwODA7XFxuICAgIGZvbnQtc2l6ZTogMjBweDtcXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xcbiAgICBvdXRsaW5lOiBub25lO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZjFmMWYxO1xcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgICBwYWRkaW5nOiAwIDElIDAgMTBweDsgfVxcbiAgLnRpdGxlLXdyYXBwZXIgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgICBjb2xvcjogI2YxZjFmMTsgfVxcblxcbi5zYXZlLW1vZGFsLWJ0biB7XFxuICB3aWR0aDogOTUlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgcGFkZGluZzogMzBweCAwOyB9XFxuICAuc2F2ZS1tb2RhbC1idG4gYnV0dG9uLCAuc2F2ZS1tb2RhbC1idG4gYSB7XFxuICAgIGNvbG9yOiAjZjFmMWYxO1xcbiAgICBmb250LXNpemU6IDE4cHg7XFxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcXG4gICAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHRyYW5zaXRpb246IGFsbCAzNTBtcyBsaW5lYXI7IH1cXG4gICAgLnNhdmUtbW9kYWwtYnRuIGJ1dHRvbjpob3ZlciwgLnNhdmUtbW9kYWwtYnRuIGE6aG92ZXIge1xcbiAgICAgIGNvbG9yOiAjODA4MDgwOyB9XFxuXFxuLm1haW4td3JhcHBlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBvdmVyZmxvdzogaGlkZGVuOyB9XFxuXFxuLm1haW4tZGlzcGxheSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHRyYW5zaXRpb246IGFsbCAzNTBtcyBjdWJpYy1iZXppZXIoMC40NywgMCwgMC4wNiwgMS40Mik7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH1cXG4gIC5tYWluLWRpc3BsYXkuYWN0aXZlLWxpc3Qge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpOyB9XFxuXFxuLnRhc2tlci1kaXNwbGF5IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiA0NTBweDtcXG4gIG1pbi13aWR0aDogMzAwcHg7XFxuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDEyMHB4KTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgcGFkZGluZy10b3A6IDEyMHB4OyB9XFxuXFxuLnRhc2tlci1oZWFkZXItd3JhcHBlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogYXV0bzsgfVxcblxcbi50YXNrZXItaGVhZGVyLWRpc3BsYXkge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7IH1cXG4gIC50YXNrZXItaGVhZGVyLWRpc3BsYXkgaDEge1xcbiAgICBjb2xvcjogI2VmOWE5YTtcXG4gICAgZm9udC1zaXplOiAxMDBweDtcXG4gICAgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7IH1cXG5cXG4udGFzay13cmFwcGVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgYmFja2dyb3VuZDogI2ZmZjsgfVxcblxcbi50YXNrLWRpc3BsYXkge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7IH1cXG5cXG4udGFzay1jcmVhdGUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YxZjFmMTtcXG4gIGRpc3BsYXk6IHRhYmxlOyB9XFxuICAudGFzay1jcmVhdGUgaW5wdXQge1xcbiAgICB3aWR0aDogODAlO1xcbiAgICBoZWlnaHQ6IDYwcHg7XFxuICAgIGNvbG9yOiAjODA4MDgwO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgICBwYWRkaW5nOiAwIDElOyB9XFxuICAudGFzay1jcmVhdGUgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgICBjb2xvcjogI2YxZjFmMTsgfVxcblxcbi50YXNrLWNvbnRyb2wge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YxZjFmMTtcXG4gIGRpc3BsYXk6IHRhYmxlOyB9XFxuICAudGFzay1jb250cm9sLmNvbXBsZXRlZC10YXNrIHtcXG4gICAgb3BhY2l0eTogMC40OyB9XFxuICAudGFzay1jb250cm9sOmhvdmVyIC5jb2wtZGVsZXRlIGkge1xcbiAgICBjb2xvcjogI2VmOWE5YTsgfVxcbiAgLnRhc2stY29udHJvbCBwIHtcXG4gICAgd2lkdGg6IDgwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBjb2xvcjogIzgwODA4MDtcXG4gICAgZGlzcGxheTogdGFibGUtY2VsbDtcXG4gICAgZm9udC1zaXplOiAyMHB4O1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgZGlzcGxheTogdGFibGUtY2VsbDtcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgfVxcblxcbi5jb2wge1xcbiAgd2lkdGg6IDEwJTtcXG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgY3Vyc29yOiBwb2ludGVyOyB9XFxuXFxuLmNvbC1kZWxldGUge1xcbiAgd2lkdGg6IDEwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXN0eWxlOiBib2xkO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRyYW5zaXRpb246IGFsbCAzNTBtcyBsaW5lYXI7IH1cXG4gIC5jb2wtZGVsZXRlIGkge1xcbiAgICBjb2xvcjogI2ZmZjtcXG4gICAgdHJhbnNpdGlvbjogYWxsIDM1MG1zIGxpbmVhcjsgfVxcblxcbi50YXNrZXItYnV0dG9ucyB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogNTBweDtcXG4gIGRpc3BsYXk6IHRhYmxlOyB9XFxuICAudGFza2VyLWJ1dHRvbnMgYnV0dG9uIHtcXG4gICAgY29sb3I6ICNmMWYxZjE7XFxuICAgIGZvbnQtc2l6ZTogMThweDtcXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xcbiAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcXG4gICAgcGFkZGluZy1sZWZ0OiAxNXB4O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHRyYW5zaXRpb246IGFsbCAzNTBtcyBsaW5lYXI7IH1cXG4gICAgLnRhc2tlci1idXR0b25zIGJ1dHRvbjpob3ZlciB7XFxuICAgICAgY29sb3I6ICM4MDgwODA7IH1cXG5cXG4ubWFpbi1saXN0LWRpc3BsYXkge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXgtd2lkdGg6IDQ1MHB4O1xcbiAgbWluLXdpZHRoOiAzMDBweDtcXG4gIGhlaWdodDogY2FsYygxMDAlIC0gMTIwcHgpO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBwYWRkaW5nLXRvcDogMTIwcHg7IH1cXG5cXG4ubGlzdC13cmFwcGVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgYmFja2dyb3VuZDogI2ZmZjsgfVxcblxcbi5saXN0LWRpc3BsYXkge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7IH1cXG5cXG4udGFzay1saXN0aW5nLWNvbnRyb2wge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2YxZjFmMTtcXG4gIGRpc3BsYXk6IHRhYmxlO1xcbiAgY3Vyc29yOiBwb2ludGVyOyB9XFxuICAudGFzay1saXN0aW5nLWNvbnRyb2w6aG92ZXIgcCB7XFxuICAgIGNvbG9yOiAjZWY5YTlhOyB9XFxuICAudGFzay1saXN0aW5nLWNvbnRyb2w6aG92ZXIgLmxpc3QtZGVsZXRlIGkge1xcbiAgICBjb2xvcjogI2VmOWE5YTsgfVxcbiAgLnRhc2stbGlzdGluZy1jb250cm9sIHAge1xcbiAgICB3aWR0aDogODAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjODA4MDgwO1xcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7IH1cXG5cXG4ubGlzdC1kZWxldGUge1xcbiAgd2lkdGg6IDEwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXN0eWxlOiBib2xkO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRyYW5zaXRpb246IGFsbCAzNTBtcyBsaW5lYXI7IH1cXG4gIC5saXN0LWRlbGV0ZSBpIHtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIHRyYW5zaXRpb246IGFsbCAzNTBtcyBsaW5lYXI7IH1cXG5cXG4uZm9ybS13cmFwcGVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbiAgcGFkZGluZy10b3A6IDYwcHg7IH1cXG5cXG4uZm9ybS1kaXNwbGF5IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgcGFkZGluZzogNjBweCAwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyOyB9XFxuICAuZm9ybS1kaXNwbGF5IGgyIHtcXG4gICAgY29sb3I6ICNlZjlhOWE7XFxuICAgIGZvbnQtc2l6ZTogMTAwcHg7XFxuICAgIGZvbnQtd2VpZ2h0OiBsaWdodGVyO1xcbiAgICBwYWRkaW5nOiAxMHB4IDA7IH1cXG5cXG4uZm9ybS1jb250YWluZXIge1xcbiAgd2lkdGg6IDk1JTtcXG4gIGhlaWdodDogYXV0bztcXG4gIG1heC13aWR0aDogNDUwcHg7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIHRleHQtYWxpZ246IGNlbnRlcjsgfVxcblxcbi5mb3JtLWNvbnRyb2wge1xcbiAgd2lkdGg6IDk1JTtcXG4gIGhlaWdodDogNTBweDtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBkaXNwbGF5OiB0YWJsZTtcXG4gIHBhZGRpbmc6IDNweCAwO1xcbiAgbWFyZ2luOiAycHggYXV0bzsgfVxcbiAgLmZvcm0tY29udHJvbCBwIHtcXG4gICAgY29sb3I6ICNlZjlhOWE7XFxuICAgIGZvbnQtc2l6ZTogMjBweDtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IH1cXG4gIC5mb3JtLWNvbnRyb2wgaW5wdXQge1xcbiAgICB3aWR0aDogOTAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGNvbG9yOiAjODA4MDgwO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICAgIHBhZGRpbmc6IDAgMSUgMCAzMHB4O1xcbiAgICBib3JkZXI6IG5vbmU7IH1cXG4gICAgLmZvcm0tY29udHJvbCBpbnB1dDpmb2N1cyB7XFxuICAgICAgb3V0bGluZTogbm9uZTtcXG4gICAgICBib3JkZXI6IG5vbmU7IH1cXG4gIC5mb3JtLWNvbnRyb2wgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xcbiAgICBjb2xvcjogI2YxZjFmMTsgfVxcbiAgLmZvcm0tY29udHJvbCBidXR0b24ge1xcbiAgICB3aWR0aDogOTUlO1xcbiAgICBoZWlnaHQ6IDMwcHg7XFxuICAgIGNvbG9yOiAjZjFmMWYxO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxuICAgIGJvcmRlcjogbm9uZTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICB0cmFuc2l0aW9uOiBhbGwgMzUwbXMgbGluZWFyOyB9XFxuICAgIC5mb3JtLWNvbnRyb2wgYnV0dG9uOmhvdmVyIHtcXG4gICAgICBjb2xvcjogIzgwODA4MDsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vc3JjL3Nhc3MvbWFpbi5zYXNzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==